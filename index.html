<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecciones de Jóvenes Bíblicos: Exploración Interactiva (Mejorada)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FFFBEB; /* amber-50 */ }
        h1, h2, h3 { font-family: 'Lora', serif; }
        .chart-container { position: relative; width: 100%; max-width: 700px; margin-left: auto; margin-right: auto; height: 400px; max-height: 500px; }
        @media (min-width: 768px) { .chart-container { height: 500px; } }
        
        .nav-button {
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }
        .nav-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .nav-button.active-char {
            box-shadow: 0 0 0 3px #D97706; /* amber-600 */
            transform: translateY(-2px);
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: #78716C; /* stone-500 */
            border-bottom: 3px solid transparent;
            transition: color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .tab-button:hover {
            color: #B45309; /* amber-700 */
        }
        .tab-button.active {
            color: #D97706; /* amber-600 */
            border-color: #D97706; /* amber-600 */
        }
        .content-fade-in { animation: contentFadeIn 0.5s ease-in-out; }
        @keyframes contentFadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="text-stone-700 antialiased">

    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center my-12 md:my-16">
            <h1 class="text-5xl md:text-6xl font-bold text-amber-800 mb-3">Juventud en el Crisol</h1>
            <p class="text-xl text-stone-600">Lecciones de Fe, Adversidad y Superación en las Narrativas Bíblicas</p>
        </header>

        <section id="introduction" class="mb-12 md:mb-16">
            <p class="text-center max-w-3xl mx-auto text-lg text-stone-700 leading-relaxed">
                Esta aplicación interactiva te invita a explorar las vidas de figuras jóvenes de la Biblia. Sus historias, llenas de desafíos, decisiones cruciales y encuentros con Dios, ofrecen una fuente de sabiduría atemporal. Selecciona un personaje para descubrir su viaje y las lecciones que su vida nos enseña sobre cómo enfrentar la adversidad y crecer en fe.
            </p>
        </section>

        <section id="character-selection" class="mb-12 md:mb-16">
            <h2 class="text-3xl font-bold text-center text-amber-800 mb-10">Selecciona un Personaje</h2>
            <div id="character-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 text-center">
            </div>
        </section>

        <section id="character-details-container" class="bg-white rounded-xl shadow-xl p-6 md:p-10 mb-12 md:mb-16 hidden min-h-[400px]">
             <div id="character-details"></div>
        </section>

        <section id="comparison-chart" class="mb-12 md:mb-16">
            <h2 class="text-3xl font-bold text-center text-amber-800 mb-4">Análisis Comparativo</h2>
             <p class="text-center max-w-3xl mx-auto text-lg text-stone-700 mb-10 leading-relaxed">
                Este gráfico compara a los jóvenes en cinco áreas clave extraídas de sus historias. Permite visualizar rápidamente sus fortalezas y debilidades relativas, ofreciendo una perspectiva única de sus trayectorias. La "Fe" mide su confianza en Dios, la "Resiliencia" su capacidad de sobreponerse, el "Impacto" las consecuencias de sus actos, la "Responsabilidad" su madurez moral, y la "Obediencia" su sumisión al plan divino.
            </p>
            <div class="bg-white rounded-xl shadow-xl p-4 sm:p-6">
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </section>
        
        <footer class="text-center text-stone-500 text-sm mt-16 py-8 border-t border-stone-200">
            <p>Creado a partir del informe "Juventud en el Crisol". Nueva Versión Internacional (NVI).</p>
            <p>&copy; 2024 Exploración Bíblica Interactiva. Todos los derechos reservados.</p>
        </footer>
    </div>

    <script>
        const characterData = {
            cain: {
                name: "Caín",
                icon: "🌾",
                title: "El Desafío de la Ira y la Envidia",
                color: "bg-red-100",
                textColor: "text-red-800",
                tabs: {
                    historia: "Caín, el primer hijo de Adán y Eva, fue un agricultor. Él y su hermano Abel presentaron ofrendas a Dios. La ofrenda de Abel fue aceptada, pero la de Caín no, lo que desató en él una ira profunda y una envidia que no supo controlar.",
                    desafio: "Su principal desafío fue interno: gestionar el sentimiento de rechazo y la amarga envidia hacia su hermano. Dios mismo le advirtió que podía dominar el pecado que lo acechaba, pero Caín no escuchó. La adversidad fue una prueba de su carácter y de su relación con Dios.",
                    respuesta: "En lugar de reflexionar y corregir su actitud, Caín cedió a su ira y asesinó a Abel. Su respuesta fue un fracaso total en la superación de su crisis, lo que resultó en una maldición, el exilio y una vida marcada por su crimen.",
                    lecciones: "1. La adoración verdadera nace de un corazón sincero. 2. La envidia y la ira sin control son destructivas. 3. Somos responsables de nuestras elecciones ante la tentación. 4. Las malas decisiones tienen consecuencias duraderas y graves."
                },
                scores: [2, 1, 8, 1, 1] 
            },
            abel: {
                name: "Abel",
                icon: "🐑",
                title: "El Costo de una Fe Genuina",
                color: "bg-sky-100",
                textColor: "text-sky-800",
                tabs: {
                    historia: "Abel, segundo hijo de Adán y Eva, fue pastor de ovejas. Presentó a Dios una ofrenda de lo mejor de su rebaño, la cual fue aceptada con agrado. Su acto de fe sincera lo destacó, pero también lo convirtió en el blanco de la envidia de su hermano.",
                    desafio: "La adversidad de Abel no fue una prueba moral, sino la consecuencia de la maldad de otro. Su desafío fue la injusticia de ser perseguido por hacer lo correcto. Su vida fue truncada prematuramente por la violencia nacida de la envidia.",
                    respuesta: "La respuesta de Abel fue una fe manifestada en su ofrenda. Aunque fue asesinado, su ejemplo de adoración genuina trasciende su muerte. El libro de Hebreos dice que 'por la fe Abel, aunque muerto, habla todavía'. No 'superó' la muerte física, pero su legado espiritual es de victoria.",
                    lecciones: "1. La sinceridad y la excelencia en la adoración agradan a Dios. 2. La justicia no siempre prevalece en la tierra, pero Dios es el juez final. 3. Una vida de fe puede provocar hostilidad en un mundo caído. 4. Un legado de fe es más duradero que una larga vida."
                },
                scores: [9, 3, 7, 9, 9] 
            },
            hijos_noe: {
                name: "Hijos de Noé",
                icon: "🌊",
                title: "El Respeto y el Impacto Generacional",
                color: "bg-indigo-100",
                textColor: "text-indigo-800",
                tabs: {
                    historia: "Sem, Cam y Jafet sobrevivieron al Diluvio junto a Noé. Un día, Noé se embriagó y quedó desnudo en su tienda. Cam vio a su padre y, en lugar de cubrirlo, se lo contó a sus hermanos de forma irrespetuosa. Sem y Jafet, en cambio, actuaron con honor.",
                    desafio: "La prueba fue cómo reaccionar ante la debilidad y vulnerabilidad de una figura de autoridad, su propio padre. Fue una crisis moral familiar que revelaría el carácter de cada uno de los hijos y su comprensión del honor.",
                    respuesta: "Sem y Jafet superaron la prueba al cubrir respetuosamente a su padre, caminando de espaldas para no ver su desnudez, lo que les valió una bendición. Cam falló, mostrando deshonra, lo que resultó en una maldición sobre su descendencia (Canaán).",
                    lecciones: "1. Honrar a los padres es un principio fundamental, incluso en sus fallas. 2. Las acciones de los jóvenes pueden tener consecuencias que afectan a futuras generaciones. 3. El respeto protege la dignidad familiar y atrae bendición."
                },
                scores: [7, 8, 9, 8, 8]
            },
            ismael: {
                name: "Ismael",
                icon: "🏹",
                title: "La Providencia en el Desierto",
                color: "bg-amber-100",
                textColor: "text-amber-800",
                tabs: {
                    historia: "Ismael fue el hijo de Abraham y Agar, la sierva de Sara. Nació de una solución humana a la esterilidad de Sara. Creció en un ambiente de tensión y fue expulsado junto a su madre al desierto tras el nacimiento de Isaac.",
                    desafio: "Enfrentó el rechazo, el abandono y la perspectiva de la muerte en el desierto. Su adversidad fue nacer en una situación de conflicto familiar y ser visto como un obstáculo para la promesa divina dada a Isaac.",
                    respuesta: "Aunque la fe de Ismael no se detalla, la Biblia dice que 'Dios oyó al niño sollozar'. La superación vino por una intervención divina directa. Dios proveyó agua, lo protegió y cumplió su promesa de hacer de él una gran nación. Ismael se adaptó, creció y se convirtió en un experto arquero.",
                    lecciones: "1. Dios cuida de los marginados y escucha el clamor de los afligidos. 2. Se puede prosperar a pesar de un comienzo difícil. 3. La resiliencia y la adaptación son claves para sobrevivir y 'salir adelante' con la ayuda de Dios."
                },
                scores: [6, 9, 7, 7, 6]
            },
            isaac: {
                name: "Isaac",
                icon: "⛰️",
                title: "La Prueba Suprema de la Fe",
                color: "bg-emerald-100",
                textColor: "text-emerald-800",
                tabs: {
                    historia: "Isaac fue el hijo milagroso de la promesa, nacido de Abraham y Sara en su vejez. Su vida estuvo centrada en el pacto de Dios. La experiencia más definitoria de su juventud fue cuando Dios le pidió a Abraham que lo ofreciera en sacrificio.",
                    desafio: "La adversidad fue incomprensible: ser llevado por su propio padre para ser sacrificado. Enfrentó la prueba máxima de la fe, no solo para Abraham, sino también para él, al ser la víctima dispuesta en el altar.",
                    respuesta: "La narrativa no registra resistencia por parte de Isaac. Su sumisión y confianza en su padre (y por extensión, en Dios) es su respuesta. La superación fue una espectacular intervención divina: Dios proveyó un carnero como sustituto. Esta prueba confirmó su lugar en el plan de Dios.",
                    lecciones: "1. La fe puede ser probada hasta límites inimaginables. 2. La obediencia y la confianza en Dios son cruciales, aun sin entender el porqué. 3. Dios es un Dios de provisión (Jehová Jireh) que interviene en los momentos más críticos."
                },
                scores: [9, 8, 10, 9, 10]
            }
        };

        const characterGrid = document.getElementById('character-grid');
        const detailsContainer = document.getElementById('character-details-container');
        const detailsContent = document.getElementById('character-details');
        let activeCharacterKey = null;
        let radarChartInstance = null;

        function displayCharacter(charKey) {
            const character = characterData[charKey];
            if (!character) return;

            if (activeCharacterKey) {
                const previousButton = document.querySelector(`.nav-button[data-char='${activeCharacterKey}']`);
                if (previousButton) previousButton.classList.remove('active-char');
            }
            const currentButton = document.querySelector(`.nav-button[data-char='${charKey}']`);
            if (currentButton) currentButton.classList.add('active-char');
            activeCharacterKey = charKey;

            let content = `
                <div class="text-center mb-8 content-fade-in">
                    <span class="text-6xl md:text-7xl">${character.icon}</span>
                    <h3 class="text-4xl font-bold ${character.textColor} mt-3">${character.name}</h3>
                    <p class="text-stone-600 text-lg">${character.title}</p>
                </div>
                <div class="flex justify-center border-b border-stone-200 mb-6">
                    <button class="tab-button active" data-tab="historia">La Historia</button>
                    <button class="tab-button" data-tab="desafio">El Desafío</button>
                    <button class="tab-button" data-tab="respuesta">La Respuesta</button>
                    <button class="tab-button" data-tab="lecciones">Lecciones</button>
                </div>
                <div id="tab-content" class="text-stone-700 leading-relaxed text-base md:text-lg min-h-[200px]">
                    <p class="content-fade-in">${character.tabs.historia}</p>
                </div>
            `;
            detailsContent.innerHTML = content;
            detailsContainer.classList.remove('hidden');
             detailsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });


            document.querySelectorAll('.tab-button').forEach(button => {
                button.onclick = (e) => {
                    document.querySelector('.tab-button.active').classList.remove('active');
                    e.target.classList.add('active');
                    const tabKey = e.target.dataset.tab;
                    const tabContentEl = document.getElementById('tab-content');
                    tabContentEl.innerHTML = `<p class="content-fade-in">${character.tabs[tabKey]}</p>`;
                };
            });
        }

        Object.keys(characterData).forEach(key => {
            const char = characterData[key];
            const button = document.createElement('button');
            button.className = `nav-button p-6 rounded-xl shadow-md focus:outline-none ${char.color}`;
            button.dataset.char = key;
            button.innerHTML = `
                <span class="text-5xl">${char.icon}</span>
                <span class="block font-semibold mt-3 text-lg ${char.textColor}">${char.name}</span>
            `;
            button.onclick = () => displayCharacter(key);
            characterGrid.appendChild(button);
        });

        function createRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            if (radarChartInstance) {
                radarChartInstance.destroy();
            }
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Fe', 'Resiliencia', 'Impacto', 'Responsabilidad', 'Obediencia'],
                    datasets: Object.keys(characterData).map((key, index) => {
                        const char = characterData[key];
                        const baseColors = [
                            { bg: 'rgba(239, 68, 68, 0.3)', border: 'rgba(220, 38, 38, 1)' }, // red
                            { bg: 'rgba(59, 130, 246, 0.3)', border: 'rgba(37, 99, 235, 1)' }, // blue
                            { bg: 'rgba(99, 102, 241, 0.3)', border: 'rgba(79, 70, 229, 1)' }, // indigo
                            { bg: 'rgba(245, 158, 11, 0.3)', border: 'rgba(217, 119, 6, 1)' }, // amber
                            { bg: 'rgba(16, 185, 129, 0.3)', border: 'rgba(5, 150, 105, 1)' }  // emerald
                        ];
                        const colorSet = baseColors[index % baseColors.length];
                        return {
                            label: char.name,
                            data: char.scores,
                            backgroundColor: colorSet.bg,
                            borderColor: colorSet.border,
                            borderWidth: 2.5,
                            pointBackgroundColor: colorSet.border,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: colorSet.border,
                            pointRadius: 4,
                            pointHoverRadius: 7
                        }
                    })
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(120, 113, 108, 0.2)' }, // stone-500 with alpha
                            grid: { color: 'rgba(120, 113, 108, 0.2)' }, // stone-500 with alpha
                            pointLabels: {
                                font: { size: 13, weight: '600', family: 'Inter' },
                                color: '#57534E' // stone-600
                            },
                            ticks: {
                                color: '#78716C', // stone-500
                                backdropColor: 'rgba(255, 251, 235, 0.6)', // amber-50 with alpha
                                stepSize: 2,
                                beginAtZero: true,
                                max: 10,
                                font: { size: 11 }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { 
                                color: '#44403C', // stone-700
                                font: { size: 12, family: 'Inter' },
                                padding: 20
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0,0,0,0.75)',
                            titleFont: { size: 14, weight: 'bold', family: 'Lora' },
                            bodyFont: { size: 12, family: 'Inter' },
                            padding: 10,
                            cornerRadius: 4,
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.r !== null) {
                                        label += context.parsed.r
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
        createRadarChart();

    </script>
</body>
</html>

